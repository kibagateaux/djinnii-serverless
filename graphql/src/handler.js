Object.defineProperty(exports,"__esModule",{value:true});exports.GraphQLInspectorHandler=exports.GraphQLServerHandler=undefined;var _apolloServerLambda=require('apollo-server-lambda');var _neo4jDriver=require('neo4j-driver');var _schema=require('./schema');var _schema2=_interopRequireDefault(_schema);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function graphContext(headers,secrets,event,ctx){var driver=_neo4jDriver.v1.driver(secrets.NEO4J_URI||"bolt://localhost:7687",_neo4jDriver.v1.auth.basic(secrets.NEO4J_USER||"neo4j",secrets.NEO4J_PASSWORD||"kiba"));return{driver:driver,headers:event.headers,lambdaEvent:event,lambdaContext:ctx};};var GraphQLServerHandler=exports.GraphQLServerHandler=(0,_apolloServerLambda.graphqlLambda)(function(event,ctx){return{schema:_schema2.default,context:graphContext(process.env,event,ctx)};});var GraphQLInspectorHandler=exports.GraphQLInspectorHandler=(0,_apolloServerLambda.graphiqlLambda)({endpointURL:'/'});